apiVersion: v1
kind: ConfigMap
metadata:
  name: scripts-cm
data:
  locustfile.py: |
    from locust import HttpUser, task
    import json

    class HelloWorldUser(HttpUser):

        # http://miles-qcs-v1.test-vwde.ssbtest.np.az.sofico.be

        @task
        def qcs_quotes(self):
            # current directory would be better
            payload = '{      "quote": {        "leasingCompanyId": "100001",        "quotationTemplateId": "400003",        "quoteReason": {          "enumId": "100069"        },        "distance": {          "value": 30000.0,          "unit": {            "enumId": "165"          }        },        "duration": {          "value": 36.0,          "unit": {            "enumId": "72"          }        },        "dynamicAttributes": {          "400116": {            "valueType": 2,            "value": {              "enumId": "400787"            },            "sysRepAttributeId": "400116"          },          "400115": {            "valueType": 2,            "value": {              "enumId": "400789"            },            "sysRepAttributeId": "400115"          },          "400112": {            "valueType": 3,            "value": {              "value": 100.0            },            "sysRepAttributeId": "400112"          }        }      },      "customer": {        "customerId": "400009",        "legalEntityGroup": {          "enumId": "2050"        },        "taxation": {          "enumId": "1089"        }      },      "dealer": {        "dealerId": "20000043"      },      "product": {        "productId": "400002",        "productSettings": [          {            "reference": "NET_RENTAL",            "choices": [              {                "id": "100619",                "selected": true              }            ],            "qualifierSettings": [              {                "reference": "ROUNDING",                "value": "true",                "choices": []              },              {                "reference": "DEALER_MORE_MILEAGE_INPUT_RATE",                "value": "14.3",                "choices": []              }            ]          },          {            "reference": "MAINTENANCE",            "choices": [              {                "id": "401854",                "selected": false              },              {                "id": "401855",                "selected": true              },              {                "id": "401856",                "selected": false              },              {                "id": "100420",                "selected": false              }            ],            "qualifierSettings": [              {                "reference": "AD_HOC_DEALER_SUBVENTION_TOTAL_AMOUNT",                "value": "99.9",                "choices": []              }            ]          }        ],        "priceDetails": []      },      "vehicle": {        "catalogVehicleId": "2066425",        "consumerPrice": 23957.98,        "description": "Volkswagen PKW Der neue Golf Variant [2021] Golf Variant 2.0 TDI SCR 85 kW 6-Gang",        "modelYear": "2022",        "nrOfAxes": 3,        "kw": 85.0,        "maxWeight": {          "value": 2000.0,          "unit": {}        },        "nature": {},        "dynamicAttributes": {          "400036": {            "valueType": 2,            "value": {              "enumId": "400058"            },            "sysRepAttributeId": "400036"          }        },        "configDiscounts": [          {            "discountTypeId": "100003",            "dynamicAttributes": {}          },          {            "discountTypeId": "100001",            "dynamicAttributes": {              "400045": {                "valueType": 3,                "value": {                  "value": 2000.0                },                "sysRepAttributeId": "400045"              }            }          }        ],        "deliveryCostComponents": [          {            "deliveryCostTypeId": "100001",            "price": 200.0          },          {            "deliveryCostTypeId": "100002",            "price": 80.0          },          {            "deliveryCostTypeId": "400001",            "price": 150.0          }        ],        "configOptions": [          {            "catalogOptionReference": "F14 P8P8",            "catalogPrice": 680.67,            "description": "Kings Red Metallic",            "dynamicAttributes": {}          },          {            "catalogOptionReference": "F56     BD",            "catalogPrice": 680.67,            "description": "Soul-Schwarz/Soul-Schwarz/Schwarz/ Storm Grey",            "dynamicAttributes": {}          },          {            "catalogOptionReference": "GYCFYCF",            "catalogPrice": 680.67,            "description": "Modelljahreswechsel 2022 II",            "dynamicAttributes": {}          },          {            "catalogOptionReference": "MGKVL43",            "catalogPrice": 680.67,            "description": "Federbereich 43 nur Einbausteuerung keine Bedarfsprognose",            "dynamicAttributes": {}          }        ],        "vehicleTires": [],        "code": "CG522X/YOR",        "vehicleTypeId": 4608      },      "promotions": [],      "selectedSubventions": []    }'
            # payload = open('/mnt/locust/Request1.json')
            headers = {'content-type': 'application/json'}
            self.client.post("/service/quotes", json=json.loads(payload), headers=headers)